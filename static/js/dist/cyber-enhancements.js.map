{
  "version": 3,
  "sources": ["../cyber-enhancements.js"],
  "sourcesContent": ["document.addEventListener('DOMContentLoaded', () => {\n  // \u2500\u2500\u2500 1\uFE0F\u20E3 Warp Overlay Injection \u2500\u2500\u2500\n  const overlay = document.createElement('div');\n  overlay.id = 'warp-overlay';\n  document.body.prepend(overlay);\n\n  // \u2500\u2500\u2500 2\uFE0F\u20E3 AOS Init \u2500\u2500\u2500\n  if (window.AOS) {\n    AOS.init({ offset: 120, delay: 100, duration: 600, easing: 'ease-in-out', once: true, mirror: false });\n  }\n\n  // \u2500\u2500\u2500 3\uFE0F\u20E3 Scroll Progress & Header Shrink \u2500\u2500\u2500\n  const progressEl = document.getElementById('scrollProgress');\n  const headerEl = document.getElementById('siteHeader');\n  const updateScroll = throttle(() => {\n    const scrollY = window.scrollY;\n    const docH = document.body.scrollHeight - window.innerHeight;\n    if (progressEl) progressEl.style.transform = `scaleX(${docH > 0 ? scrollY / docH : 0})`;\n    if (headerEl) headerEl.classList.toggle('scrolled', scrollY > 50);\n  }, 16);\n  document.addEventListener('scroll', updateScroll);\n  updateScroll();\n\n  // \u2500\u2500\u2500 4\uFE0F\u20E3 Audio FX \u2500\u2500\u2500\n  const audio = {\n    click: new Audio('/static/sfx/keyboard-clack.mp3'),\n    unlock: new Audio('/static/static/sfx/vhs-unlock.mp3'),\n    swoosh: new Audio('/static/sfx/swoosh.mp3'),\n    breach: new Audio('/static/sfx/breach.mp3'),\n  };\n  Object.values(audio).forEach(a => a.volume = 0.15);\n\n  document.addEventListener('click', e => {\n    const t = e.target;\n    if (t.closest('.vault-popup-trigger')) audio.unlock.play();\n    else if (t.matches('a, .report-card, button')) audio.click.play();\n    else if (t.closest('#themeToggle')) audio.swoosh.play();\n  });\n// \u2500\u2500\u2500 5\uFE0F\u20E3 Theme & Ghost Mode \u2500\u2500\u2500\nconst themeBtn = document.getElementById('themeToggle');\nconst html = document.documentElement;\nconst body = document.body;\n\n// \u2705 Updated: Now stores \"true\" / \"false\" in dataset\nconst applyTheme = (mode) => {\n  html.dataset.theme = mode;\n  localStorage.setItem('theme', mode);\n};\n\nconst applyGhost = (enabled) => {\n  const value = enabled ? 'true' : 'false'; // \uD83D\uDD04 Now string \"true\"/\"false\"\n  html.dataset.ghostMode = value;\n  body.dataset.ghostMode = value;\n  localStorage.setItem('ghost', value); // Stored for consistency\n};\n\n// \u2705 Read from localStorage using updated string\napplyTheme(localStorage.getItem('theme') || 'dark');\napplyGhost(localStorage.getItem('ghost') === 'true');\n\nif (themeBtn) {\n  themeBtn.addEventListener('click', () => {\n    const next = html.dataset.theme === 'dark' ? 'light' : 'dark';\n    applyTheme(next);\n  });\n\n  window.addEventListener('keydown', (e) => {\n    if (e.ctrlKey && e.key.toLowerCase() === 'm') {\n      const mode = prompt('Enter theme mode (dark, light, ghost, infrared):');\n      if (mode) {\n        if (mode === 'ghost') {\n          applyGhost(true);\n        } else {\n          applyGhost(false);\n          mode === 'infrared' ? applyTheme('infrared') : applyTheme(mode);\n        }\n      }\n    }\n  });\n}\n\n  // \u2500\u2500\u2500 6\uFE0F\u20E3 WebSocket Vault Feed \u2500\u2500\u2500\n  const statusEl = document.getElementById('vaultStatusLive');\n  if (statusEl && location.protocol.startsWith('http')) {\n    let ws;\n    const connectWS = () => {\n      const proto = location.protocol === 'https:' ? 'wss' : 'ws';\n      ws = new WebSocket(`${proto}://${location.host}/ws/status`);\n      ws.onmessage = ({ data }) => {\n        statusEl.textContent = `Vault: ${data}`;\n        statusEl.classList.toggle('bg-green-600', data === 'LIVE');\n        statusEl.classList.toggle('bg-red-600', data !== 'LIVE');\n      };\n      ws.onclose = () => {\n        statusEl.textContent = 'Disconnected';\n        statusEl.classList.remove('bg-green-600');\n        statusEl.classList.add('bg-red-600');\n        setTimeout(connectWS, 3000); // reconnect\n      };\n    };\n    connectWS();\n  }\n\n  // \u2500\u2500\u2500 7\uFE0F\u20E3 Bootloader System \u2500\u2500\u2500\n  const boot = document.getElementById('bootloader');\n  const bootLinesEl = document.getElementById('bootLines');\n  if (boot && bootLinesEl) {\n    const bootLines = [\n      `[0.00] Initializing CYBERKIDZSEC Vault System...`,\n      `[0.21] Engaging Ghost Mode Subsystems...`,\n      `[0.34] \u26A0\uFE0F Memory Leak Detected in Sector 7G`,\n      `[0.42] HUD Interface Compiled.`,\n      `#!@% Error: /dev/null overflow`,\n      `[0.73] Authenticating Operative: \uD83E\uDDE0 Codebreaker`,\n      `[0.91] \uD83D\uDEA8 Subspace Trace Signal Detected`,\n      `[1.04] Neural Sync Lock Established.`,\n      `SYSTEM: Breach Protocols Engaged...`,\n      `[1.48] Vault Stability: \u2714 Stable`,\n      `[2.00] \u2705 WARP MODE Online \u2014 Stay Ghosted. \uD83D\uDC80`\n    ];\n\n    const classifyLine = (text) => {\n      if (text.includes('ERROR') || text.includes('\u26A0\uFE0F') || text.includes('Trace')) return 'error';\n      if (text.includes('#!@%') || text.includes('Breach')) return 'glitch';\n      if (text.includes('\u2714') || text.includes('\u2705')) return 'success';\n      return '';\n    };\n\n    bootLinesEl.innerHTML = '';\n    bootLines.forEach((line, i) => {\n      const span = document.createElement('span');\n      span.textContent = line;\n      span.classList.add('line');\n      const type = classifyLine(line);\n      if (type) span.classList.add(type);\n      setTimeout(() => bootLinesEl.appendChild(span), i * 300);\n    });\n\n    const totalDelay = bootLines.length * 300 + 1000;\n    setTimeout(() => {\n      boot.classList.add('hidden');\n      document.body.classList.remove('no-scroll');\n      showPostBootCursor();\n    }, totalDelay);\n\n    boot.addEventListener('click', () => {\n      boot.classList.add('hidden');\n      document.body.classList.remove('no-scroll');\n      showPostBootCursor();\n    });\n\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape') {\n        boot.classList.add('hidden');\n        document.body.classList.remove('no-scroll');\n        showPostBootCursor();\n      }\n    });\n\n    function showPostBootCursor() {\n      const cursor = document.createElement('div');\n      cursor.className = 'post-boot-cursor';\n      cursor.textContent = '~$';\n      document.body.appendChild(cursor);\n    }\n  }\n\n  // \u2500\u2500\u2500 8\uFE0F\u20E3 Breach Glitch Alert \u2500\u2500\u2500\n  const breachEl = document.getElementById('ghostBreachWarning');\n  const footer = document.getElementById('footer');\n  if (breachEl && footer) {\n    const stability = parseInt(footer.dataset.vaultStability || '100', 10);\n    const ghostMode = document.body.dataset.ghostMode === 'true';\n    if (ghostMode && stability < 50) {\n      breachEl.style.display = 'block';\n      audio.breach.play().catch(() => {});\n      document.body.classList.add('glitch');\n      setTimeout(() => document.body.classList.remove('glitch'), 2000);\n    }\n  }\n\n  // \u2500\u2500\u2500 9\uFE0F\u20E3 Utility: Throttle \u2500\u2500\u2500\n  function throttle(fn, wait) {\n    let last = 0;\n    return (...args) => {\n      const now = Date.now();\n      if (now - last > wait) {\n        last = now;\n        fn(...args);\n      }\n    };\n  }\n});\n\nconst initStarfield = () => {\n  if (!canvas || !canvas.getContext) return;\n\n  const ctx = canvas.getContext('2d');\n  let stars = [];\n  let animationFrame;\n\n  const resize = () => {\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n\n    const numStars = Math.floor((canvas.width * canvas.height) / 8000);\n    stars = Array.from({ length: numStars }, () => ({\n      x: Math.random() * canvas.width,\n      y: Math.random() * canvas.height,\n      r: Math.random() * 1.2 + 0.3,\n      alpha: Math.random(),\n      delta: Math.random() * 0.02 + 0.005,\n    }));\n  };\n\n  const draw = () => {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    stars.forEach(star => {\n      star.alpha += star.delta;\n      if (star.alpha <= 0 || star.alpha >= 1) star.delta *= -1;\n\n      ctx.globalAlpha = star.alpha;\n      ctx.beginPath();\n      ctx.arc(star.x, star.y, star.r, 0, 2 * Math.PI);\n      ctx.fillStyle = '#ffffff';\n      ctx.fill();\n    });\n\n    ctx.globalAlpha = 1;\n    animationFrame = requestAnimationFrame(draw);\n  };\n\n  resize();\n  draw();\n  window.addEventListener('resize', resize);\n\n  return () => {\n    cancelAnimationFrame(animationFrame);\n    window.removeEventListener('resize', resize);\n  };\n};\n\n"],
  "mappings": "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",
  "names": ["overlay", "progressEl", "headerEl", "updateScroll", "throttle", "scrollY", "docH", "audio", "a", "themeBtn", "html", "body", "applyTheme", "mode", "applyGhost", "enabled", "value", "next", "statusEl", "ws", "connectWS", "proto", "data", "boot", "bootLinesEl", "showPostBootCursor", "cursor", "bootLines", "classifyLine", "text", "line", "i", "span", "type", "totalDelay", "e", "breachEl", "footer", "stability", "fn", "wait", "last", "args", "now"]
}
