{# templates/index.html #}
{% extends "base.html" %}

{% block title %}Home · CYBERKIDZSEC Vault{% endblock %}

{% block head_extra %}
  {{ super() }}
  {# Only load the extra section-and-component CSS not in app.min.css #}
  {% set styles = [
    'sections/vault_overview.css',
    'sections/featured_reports.css',
    'sections/report_grid.css',
    'sections/filter_bar.css',
    'sections/pagination.css',
    'sections/sidebar_filters.css',
    'sections/sidebar_cta.css',
    'sections/empty_state.css',
    'sections/report_charts_grid.css',
    'sections/tags_section.css',
    'sections/related_reports.css',
    'sections/hacker_playground.css',
    'components/hero.css',
    'components/terminal_scan.css',
    'components/hud_status.css'
  ] %}
  {% for path in styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/' ~ path) }}">
  {% endfor %}
{% endblock %}

{% block content %}
  <!-- 🧠 Boot Console + Hero always visible -->
  {% include "components/console.html" %}
  {% include "components/hero.html" %}

  <!-- 🔐 Vault Status Banner -->
  <section id="vault-status" class="section-container" aria-live="polite">
    <div
      class="bg-zinc-800/80 text-orange-400 text-xs sm:text-sm text-center py-2 font-mono uppercase tracking-wider animate-pulse backdrop-blur shadow"
    >
      🔐 Zero-Day Archive Updating · Stay Ghosted.
    </div>
  </section>

  {# 🚀 Unified Vault Overview (XP + Banners) #}
  {% include "components/vault_overview.html" %}

  <!-- 📚 Reports + Sidebar Filters -->
  <section
    id="vault-feed"
    class="section-container grid grid-cols-1 lg:grid-cols-4 gap-10 my-24"
  >
    <aside class="space-y-10 lg:sticky lg:top-24 self-start" role="complementary">
      {% include "components/filter_bar.html" %}
      {% include "components/sidebar_filters.html" %}
      {% include "components/sidebar_cta.html" %}
    </aside>

    <div class="lg:col-span-3 space-y-14" role="region" aria-labelledby="reports-section">
      <h2 id="reports-section" class="sr-only">Reports & Analytics</h2>
      {% include "components/featured_reports.html" %}
      {% include "components/report_grid.html" %}
      {% include "components/empty_state.html" %}
      {% include "components/pagination.html" %}
      {% include "components/report_charts_grid.html" %}
      {% include "components/tags_section.html" %}
      {% include "components/related_reports.html" %}
    </div>
  </section>

  <!-- 🎮 Hacker Playground -->
  <section
    id="hacker-playground"
    class="section-container py-20 text-center rounded-3xl shadow-2xl border border-orangeLuxe/30 backdrop-blur bg-gradient-to-br from-cyberNight via-cyberNightGlow to-cyberNightPhantom"
  >
    {% include "components/hacker_playground.html" %}
  </section>

  <!-- 🛰️ HUD & Terminal Scan Modules -->
  {% include "components/terminal_scan.html" %}
  {% include "components/hud_status.html" %}
{% endblock %}

{% block scripts_extra %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/console.js') }}" defer></script>
  <script src="{{ url_for('static', filename='js/hero_starfield_debug.js') }}" defer></script>
  <script src="{{ url_for('static', filename='js/vault_overview.js') }}" defer></script>
{% endblock %}

