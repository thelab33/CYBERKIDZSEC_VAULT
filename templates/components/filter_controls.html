{# templates/components/filter_controls.html #}
<div id="filterControls" class="flex flex-col xl:flex-row gap-8">

  {# Sidebar: tag search + scrollable tag list + optional CTA #}
  <aside id="sideFilter"
         role="region"
         aria-labelledby="tagFilter-label"
         class="xl:w-1/4 bg-cyberNightGlow p-6 rounded-2xl shadow-inner space-y-4"
         data-aos="fade-up">
    <h2 id="tagFilter-label" class="text-lg font-bold text-orangeLuxe mb-2">Filter by tag</h2>

    <label for="tagSearch" class="sr-only">Search tags</label>
    <input type="search"
           id="tagSearch"
           placeholder="Search tags..."
           class="w-full px-4 py-2 rounded-md bg-zinc-800 text-orangeLuxe-light text-sm placeholder-orangeLuxe-light/50 focus:ring-2 focus:ring-orangeLuxe"
           aria-label="Search tags" />

    <div id="tagList"
         role="list"
         class="max-h-64 overflow-y-auto space-y-2 mt-2 pr-1">
      {# JS will inject tag buttons here #}
    </div>

    {# Optional CTA under filters (formerly sidebar_cta.html) #}
    <div class="mt-4 space-y-2 text-center">
      <a href="/academy" class="block bg-orangeLuxe text-black px-4 py-2 rounded-lg font-semibold hover:bg-orangeLuxe-dark transition">
        🎓 Join Ghost Academy
      </a>
      <a href="/dashboard" class="block bg-emerald-500 text-black px-4 py-2 rounded-lg font-semibold hover:emerald-600 transition">
        🛰️ View Dashboard
      </a>
    </div>
  </aside>

  {# Top filter bar: search, tag toggle buttons, sort + theme #}
  <nav id="filterBar"
       role="toolbar"
       aria-label="Filter and sort vulnerability reports"
       class="flex-1 bg-cyberNight/80 backdrop-blur border-b border-orangeLuxe/30 shadow-md px-6 py-4 rounded-lg flex flex-wrap items-center gap-4 text-sm font-mono text-orange-300"
       data-aos="fade-down">

    {# 🔍 Tag Search (duplicate input for convenience) #}
    <div class="relative flex-1 min-w-[12rem]">
      <label for="tagSearchBar" class="sr-only">Search Tags</label>
      <input type="search"
             id="tagSearchBar"
             placeholder="🔍 Search tags..."
             class="w-full px-4 py-2 pl-10 rounded-md bg-zinc-900 border border-orangeLuxe/30 placeholder-orangeLuxe-light text-orangeLuxe-light focus:ring-2 focus:ring-orangeLuxe transition" />
      <span class="absolute left-3 top-1/2 -translate-y-1/2 text-orangeLuxe-light">
        <i class="fas fa-search"></i>
      </span>
    </div>

    {# 🏷️ Tag toggle buttons (injected via the same JS that populates #tagList) #}
    <div id="tagFilters"
         role="radiogroup"
         aria-label="Tag Filters"
         class="flex flex-wrap gap-2 justify-center sm:justify-start overflow-x-auto no-scrollbar px-2">
      {# JS will inject tag buttons here #}
    </div>

    {# ⚙️ Sort dropdown + 🌗 theme toggle #}
    <div class="ml-auto flex items-center gap-4 min-w-fit">
      <div class="relative">
        <label for="sortSelect" class="sr-only">Sort by</label>
        <select id="sortSelect"
                class="appearance-none w-36 bg-zinc-900 border border-orangeLuxe text-orangeLuxe-light text-sm rounded px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-orangeLuxe">
          <option value="newest">🕒 Newest</option>
          <option value="oldest">📜 Oldest</option>
          <option value="severity">🔥 Severity</option>
          <option value="random">🎲 Random</option>
        </select>
        <span class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-orange-400">
          ▼
        </span>
      </div>

      <button id="themeToggle"
              class="p-2 rounded-full border border-orangeLuxe text-lg text-orangeLuxe-light hover:bg-orangeLuxe/10 transition focus:outline-none focus:ring-2 focus:ring-orangeLuxe"
              aria-label="Toggle light/dark theme">
        <i class="fas fa-circle-half-stroke"></i>
      </button>
    </div>
  </nav>
</div>

