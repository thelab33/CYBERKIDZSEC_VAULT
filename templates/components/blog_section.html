{% extends "base.html" %}
{% block title %}Blog Â· CYBERKIDZSEC{% endblock %}

{% block content %}
<section role="region" data-aos="fade-up" class="section-container py-20 space-y-16" aria-labelledby="blogTitle" data-aos="fade-up" data-aos="fade-up" data-testid="blog_section space-y-4" >
  <!-- ðŸ§  Hero Header -->
  <header class="text-center space-y-4 max-w-4xl mx-auto" data-aos="fade-down space-y-4">
    <h1 id="blogTitle" class="hero-title text-orangeLuxe-light space-y-4">CyberKidzSec Blog</h1>
    <p class="text-lg sm:text-xl text-orangeLuxe-light/80 font-mono space-y-4">
      Insights, tools, bounty stories, and hacker reflections â€” <strong>coming soon</strong>.
    </p>
  </header>

  <!-- ðŸ“š Posts Grid -->
  <div id="postsGrid"
       class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 space-y-4"
       aria-live="polite" aria-busy="{{ 'false' if posts else 'true' }}">
    {% if posts %}
      {% for post in posts %}
        <article class="card hover-lift animate-fade-in group transition-all space-y-4"
                 data-aos="zoom-in"
                 data-aos-delay="{{ loop.index0 * 100 }}"
                 role="article" aria-labelledby="post-{{ loop.index0 }}-title">
          <img src="{{ post.thumb_url or '/static/img/default-thumb.jpg' }}"
               alt="Thumbnail for {{ post.title }}"
               class="w-full h-40 object-cover rounded-t" loading="lazy space-y-4" />
          <div class="p-4 flex flex-col space-y-3 space-y-4">
            <h2 class="text-2xl font-bold mb-4" id="post-{{ loop.index0 }}-title space-y-4"
                class="font-semibold text-lg text-orangeLuxe-light group-hover:text-orangeLuxe transition space-y-4">
              {{ post.title }}
            </h2>
            <p class="text-sm text-orangeLuxe-light/70 font-mono line-clamp-3 flex-grow space-y-4">
              {{ post.excerpt }}
            </p>
            <a href="{{ url_for('blog_detail', slug=post.slug) }}"
               class="mt-auto btn btn--outline w-max space-y-4">
              Read More â†’
            </a>
          </div>
        </article>
      {% endfor %}
    {% else %}
      {% for _ in range(6) %}
        <div class="rounded-lg bg-zinc-800 animate-pulse h-64 shadow-md space-y-4"
             aria-hidden="true"></div>
      {% endfor %}
    {% endif %}
  </div>

  <!-- ðŸ“ˆ Pagination CTA -->
  {% if posts %}
    <div class="text-center mt-12" data-aos="fade-up space-y-4">
      <a href="{{ url_for('all_posts') }}" class="btn btn--secondary hover-lift space-y-4">
        ðŸ“– View All Posts
      </a>
    </div>
  {% endif %}
</section>
{% endblock %}

