<div id="copilot" class="fixed bottom-6 right-6 z-50 bg-zinc-900/90 backdrop-blur-lg border border-orangeLuxe px-4 py-3 rounded-xl shadow-2xl w-80 hidden">
  <h3 class="font-mono text-orangeLuxe-light mb-2">ðŸ¤– Vault Copilot</h3>
  <textarea id="copilotInput" placeholder="Ask the Vaultâ€¦" class="w-full p-2 rounded bg-zinc-800 text-white"></textarea>
  <button onclick="askCopilot()" class="mt-2 w-full btn btn--solid">Submit</button>
  <pre id="copilotResponse" class="mt-3 text-xs text-emeraldLuxe whitespace-pre-wrap"></pre>
</div>
<button id="copilotToggle" class="fixed bottom-6 right-6 z-40 btn btn--outline rounded-full p-3">
  ðŸ§ 
</button>

<script>
  const toggle = document.getElementById("copilotToggle");
  const copilot = document.getElementById("copilot");
  toggle.onclick = () => copilot.classList.toggle("hidden");

  async function askCopilot() {
    const input = document.getElementById("copilotInput").value;
    const resBox = document.getElementById("copilotResponse");
    resBox.textContent = "Thinkingâ€¦";

    const res = await fetch("/api/copilot/query", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "X-API-Key": "ghostmode-supersecure"
      },
      body: JSON.stringify({ prompt: input })
    });

    const data = await res.json();
    resBox.textContent = data.content || "Something went wrong.";
  }
</script>

