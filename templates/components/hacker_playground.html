<!-- hacker_playground.html -->
<section
  id="playground"
  class="relative mx-auto my-24 max-w-3xl px-6 py-12 rounded-2xl border border-orangeLuxe/40
         bg-gradient-to-b from-cyberNight to-black shadow-xl"
>
  <h2 class="text-center text-3xl sm:text-4xl font-extrabold text-orangeLuxe-light mb-2">
    🧠 Hacker Playground
  </h2>
  <p class="text-center text-orangeLuxe-light/80 mb-10 font-mono text-sm">
    Think you’ve got what it takes? Hack the vault – only the curious survive.
  </p>

  <!-- Hack button -->
  <button id="hackBtn"
    class="block mx-auto mb-10 bg-orangeLuxe hover:bg-orangeLuxe-dark text-black px-8 py-3
           rounded-full font-semibold shadow-lg focus:ring-2 focus:ring-orange-400 transition">
    Hack Me 🔓
  </button>
  <pre id="flagOut" class="hidden mt-4 text-center text-emerald-400 font-mono text-sm break-all"></pre>

  <!-- Terminal scan -->
  <div class="mt-16">
    <h3 class="text-orangeLuxe text-lg font-semibold mb-3">🛰️ Terminal-Scan™ Interface</h3>
    <form id="scanForm" class="flex flex-col sm:flex-row gap-3">
      <input id="scanInput" type="text"
        placeholder="> scan /api/dev/console …"
        class="flex-1 font-mono bg-black/80 rounded border border-orangeLuxe/40
               px-4 py-2 text-orange-100 placeholder:text-orange-400 focus:ring-2 focus:ring-orangeLuxe" />
      <button
        class="bg-orangeLuxe-dark text-white px-5 py-2 rounded font-medium shadow
               hover:bg-orangeLuxe-light transition">
        Run Scan 🛰️
      </button>
    </form>
    <pre id="scanOut" class="hidden mt-5 bg-black/70 border border-orangeLuxe/40 rounded p-4 font-mono text-sm text-orangeLuxe-light"></pre>
  </div>

  <!-- ghost flag -->
  <div id="ghostFlag" class="hidden mt-16 text-center bg-cyberNight.glow/70 rounded-xl p-6
        border border-orangeLuxe/40 shadow-lg animate-pulse-glow"></div>

  <!-- returnee easter-egg -->
  <p id="returnEgg" class="hidden absolute -top-5 right-4 text-[10px] font-mono text-orangeLuxe-light/60">
    welcome back, operative
  </p>
</section>

<script>
/* tiny helpers --------------------------------------------------- */
const $ = (sel) => document.querySelector(sel);
const makeFlag = (txt) => `FLAG{${btoa(txt)}}`;
const COLORS = ["text-red-400","text-emerald-400","text-sky-400","text-yellow-400"];

/* state ---------------------------------------------------------- */
let ghostUnlocked = false, keyBuf = [];

/* return visitor? */
if(localStorage.getItem("firstHack")) $("#returnEgg").style.display="block";

/* Hack button ---------------------------------------------------- */
$("#hackBtn").onclick = () => {
  const secret = Math.random().toString(16).slice(2,10);
  $("#flagOut").textContent = makeFlag(`you_triggered_${secret}`);
  $("#flagOut").classList.remove("hidden");
  localStorage.setItem("firstHack", "1");
};

/* Terminal scan -------------------------------------------------- */
$("#scanForm").onsubmit = (e) => {
  e.preventDefault();
  const q = $("#scanInput").value.trim().toLowerCase();
  $("#scanInput").value = "";
  if(!q) return;
  const good = ["admin","dev","console","vault"].some(k => q.includes(k));
  $("#scanOut").textContent = good
    ? "🟢 Access Granted – " + makeFlag("access_terminal_scan_success")
    : "🔴 Access Denied – Endpoint not in routing table.";
  $("#scanOut").classList.remove("hidden");
};

/* Keyboard shortcuts -------------------------------------------- */
window.addEventListener("keydown", (e)=>{
  if(e.key==="/"){ e.preventDefault(); $("#scanInput").focus(); }
  if(e.key==="Escape"){ $("#scanInput").blur(); $("#scanOut").classList.add("hidden"); }
  keyBuf = [...keyBuf.slice(-1), e.key.toLowerCase()];
  if(keyBuf.join("")==="gh" && !ghostUnlocked){
    ghostUnlocked = true;
    $("#ghostFlag").innerHTML = `👻 <strong>Ghost Sequence Unlocked!</strong><br>${makeFlag("you_found_the_ghost_sequence")}`;
    $("#ghostFlag").classList.remove("hidden");
  }
});
</script>

