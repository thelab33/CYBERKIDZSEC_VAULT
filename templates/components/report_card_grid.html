<!-- report_card_grid.html -->
<section class="max-w-6xl mx-auto py-20 px-6" data-aos="fade-up"" id="cardGridWrap" data-aos="fade-up" data-aos-delay="100">
  <h2 class="text-center text-3xl sm:text-4xl font-black mb-12 tracking-tight gradient-text-orange">
    ðŸ§  Featured Vulnerability Reports
  </h2>

  <div id="cardGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10" data-aos="fade-up""></div>
</section>

<script>
const CARDS = (window.ALL_REPORTS || []).slice(0, 9);
const grid = document.getElementById("cardGrid");

CARDS.forEach((r, i) => {
  const el = document.createElement("a");
  el.href = `/reports/${r.slug}`;
  el.className = `group rounded-2xl overflow-hidden shadow-xl bg-gradient-to-br
                  from-cyberNightGlow via-cyberNight to-zinc-900/90
                  border border-orangeLuxe/25 hover:border-orangeLuxe/60
                  transition-transform hover:scale-[1.02] focus:ring-2
                  focus:ring-orangeLuxe-light`;
  el.setAttribute("data-aos", "fade-up");
  el.setAttribute("data-aos-delay", `${i * 100}`);
  el.innerHTML = `
    <figure class="relative h-44 w-full overflow-hidden">
      <img src="https://cdn.example.com/thumbnails/${r.slug}.jpg" alt="${r.title}" class="object-cover w-full h-full transition-transform duration-300 group-hover:scale-105" loading="lazy">
    </figure>
    <div class="p-6 space-y-3">
      <h3 class="text-lg font-semibold text-orangeLuxe-light group-hover:text-orangeLuxe transition">${r.title}</h3>
      <p class="text-xs text-orangeLuxe-light/60 font-mono">${new Date(r.date).toLocaleDateString()} â€¢ ${r.reportType}</p>
      <div class="flex flex-wrap gap-2">${r.tags.slice(0,3).map(t => `<span class="badge">${t}</span>`).join("")}${r.tags.length>3 ? `<span class="badge">+${r.tags.length-3}</span>` : ""}</div>
      <span class="inline-block mt-2 text-[11px] px-2 py-0.5 rounded-full font-mono border border-orangeLuxe/30 ${cvssColor(r.cvss)}">
        CVSS ${typeof r.cvss === "number" ? r.cvss.toFixed(1) : "N/A"}
      </span>
    </div>`;
  grid.appendChild(el);
});

function cvssColor(v) {
  if (typeof v !== "number") return "text-zinc-400";
  return v >= 9 ? "text-red-400" : v >= 7 ? "text-orange-400" : v >= 4 ? "text-yellow-400" : "text-emerald-400";
}
</script>

